[Guide](https://curl.se/docs/http3.html)
### Build with OpenSSL
OpenSSL v3.5.0+ offers API for integration with _ngtcp2_. Earlier version do not work
Curl has not yet install
1. **Install OpenSSL**
```sh
export OPENSSL_VERSION=3.6
git clone --depth 1 -b openssl-$OPENSSL_VERSION https://github.com/openssl/openssl
cd openssl
./config --prefix=/usr/local/openssl --libdir=lib
make
sudo make install
```
Override the system openssl symbol link
```sh
sudo ln -sf /usr/local/openssl/bin/openssl /usr/lib/openssl
```
Check
```sh
% openssl version
OpenSSL 3.6.1-dev  (Library: OpenSSL 3.6.1-dev )
```
2. **Install nghttp3**
```sh
export NGHTTP3_VERSION=release-1.13
git clone -b $NGHTTP3_VERSION https://github.com/ngtcp2/nghttp3
cd nghttp3
git submodule update --init
autoreconf -fi
./configure --prefix=/usr/local/nghttp3 --enable-lib-only
make
sudo make install
```
Configuring library information using pkg-config
```sh
% echo $PKG_CONFIG_PATH
/usr/local/lib/pkgconfig:/usr/lib/pkgconfig:/usr/local/lib/x86_64-linux-gnu/pkgconfig:/usr/lib/x86_64-linux-gnu/pkgconfig
% sudo cp /usr/local/nghttp3/lib/pkgconfig/libnghttp3.pc /usr/lib/x86_64-linux-gnu/pkgconfig
% pkg-config --libs libnghttp3
-L/usr/local/nghttp3/lib -lnghttp3
```
3. **Install ngtcp2**
```sh
export NGTCP2_VERSION=release-1.15
git clone -b $NGTCP2_VERSION https://github.com/ngtcp2/ngtcp2
cd ngtcp2
autoreconf -fi
./configure PKG_CONFIG_PATH=/usr/local/openssl/lib/pkgconfig:/usr/locak/nghttp3/lib/pkgconfig LDFLAGS="-Wl,-rpath,/usr/local/openssl/lib" --prefix=/usr/local/ngtcp2 --enable-lib-only --with-openssl
make
sudo make install
```
Configuring library information using pkg-config
```sh
% echo $PKG_CONFIG_PATH
/usr/local/lib/pkgconfig:/usr/lib/pkgconfig:/usr/local/lib/x86_64-linux-gnu/pkgconfig:/usr/lib/x86_64-linux-gnu/pkgconfig
% sudo cp /usr/local/ngtcp2/lib/pkgconfig/libngtcp2.pc /usr/lib/x86_64-linux-gnu/pkgconfig/
% sudo cp /usr/local/ngtcp2/lib/pkgconfig/libngtcp2_crypto_ossl.pc /usr/lib/x86_64-linux-gnu/pkgconfig/
% pkg-config --libs libngtcp2
-L/usr/local/ngtcp2/lib -lngtcp2
```
4. **Install curl**
```sh
git clone https://github.com/curl/curl
cd curl
autoreconf -fi
LDFLAGS="-Wl,-rpath,/usr/local/openssl/lib" ./configure PKG_CONFIG_PATH=/usr/local/ngtcp2/lib/pkgconfig --with-openssl=/usr/local/openssl --with-nghttp3=/usr/local/nghttp3 --with-ngtcp2
make
sudo make install
```
4. **Run ldconfig**
After installing or updating libraries, running _sudo ldconfig_ updates the system's cache of shared libraries, which can sometimes resolve the lookup error
```sh
sudo ldconfig
```
5. **Checking ngtcp2, nghttp3 are included in curl**
```sh
curl --version
curl 8.19.0-DEV (x86_64-pc-linux-gnu) libcurl/8.19.0-DEV OpenSSL/3.6.1 zlib/1.3 brotli/1.1.0 zstd/1.5.5 libpsl/0.21.2 ngtcp2/1.15.1 nghttp3/1.13.1
Release-Date: [unreleased]
Protocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns mqtt mqtts pop3 pop3s rtsp smb smbs smtp smtps telnet tftp ws wss
Features: alt-svc AsynchDNS brotli HSTS HTTP3 HTTPS-proxy IPv6 Largefile libz NTLM PSL SSL threadsafe TLS-SRP UnixSockets zstd
```