load("@rules_go//go:def.bzl", "go_test")

go_test(
    name = "testcases_test",
    srcs = [
        "main_cockroach_container_test.go",
        "main_test.go",
    ],
    deps = [
        "//bamboo/server/handler",
        "//bamboo/server/service",
        "@com_github_cockroachdb_cockroach_go_v2//crdb/crdbpgxv5",
        "@com_github_cockroachdb_cockroach_go_v2//testserver",
        "@com_github_google_uuid//:uuid",
        "@com_github_jackc_pgx_v5//:pgx",
        "@com_github_labstack_echo_v4//:echo",
        "@com_github_stretchr_testify//assert",
        "@com_github_testcontainers_testcontainers_go//:testcontainers-go",
        "@com_github_testcontainers_testcontainers_go_modules_cockroachdb//:cockroachdb",
    ],
)
